# Brace expansion compatibility
# Generating sequences and combinations

[brace_basic]
category = "expansion"
feature = "brace_expansion"
description = "Brace expansion {a,b,c}"

[brace_basic.behavior]
posix = "Not in POSIX"
bash = "Generates a b c from {a,b,c}"
zsh = "Same as bash"
lush = "Bash-compatible"

[brace_basic.lint]
severity = "warning"
message = "Brace expansion is not portable"
suggestion = "Not in POSIX; braces are literal in POSIX sh"
pattern = "\\{[^{}]+,[^{}]+\\}"

[brace_sequence]
category = "expansion"
feature = "brace_sequence"
description = "Numeric sequence {1..10}"

[brace_sequence.behavior]
posix = "Not in POSIX"
bash = "Generates 1 2 3 ... 10"
zsh = "Same as bash"
lush = "Bash-compatible"

[brace_sequence.lint]
severity = "warning"
message = "Brace sequence is not portable"
suggestion = "Use seq command for POSIX compatibility"
pattern = "\\{[0-9]+\\.\\.[0-9]+\\}"

[brace_sequence_step]
category = "expansion"
feature = "brace_sequence_step"
description = "Sequence with step {1..10..2}"

[brace_sequence_step.behavior]
posix = "Not in POSIX"
bash = "Generates 1 3 5 7 9 (bash 4.0+)"
zsh = "Same as bash"
lush = "Bash-compatible"

[brace_sequence_step.lint]
severity = "warning"
message = "Brace sequence with step is not portable"
suggestion = "bash 4.0+ and zsh; use seq for portability"
pattern = "\\{[0-9]+\\.\\.[0-9]+\\.\\.[0-9]+\\}"

[brace_alpha]
category = "expansion"
feature = "brace_alpha_sequence"
description = "Alphabetic sequence {a..z}"

[brace_alpha.behavior]
posix = "Not in POSIX"
bash = "Generates a b c ... z"
zsh = "Same as bash"
lush = "Bash-compatible"

[brace_alpha.lint]
severity = "warning"
message = "Alphabetic sequence is not portable"
suggestion = "Not in POSIX; no simple portable alternative"
pattern = "\\{[a-zA-Z]\\.\\.[a-zA-Z]\\}"

[brace_nested]
category = "expansion"
feature = "brace_nested"
description = "Nested brace expansion"

[brace_nested.behavior]
posix = "Not in POSIX"
bash = "Nested braces expand from inner to outer"
zsh = "Same as bash"
lush = "Bash-compatible"

[brace_nested.lint]
severity = "warning"
message = "Nested brace expansion is not portable"
suggestion = "Not in POSIX"
pattern = "\\{[^{}]*\\{[^{}]+\\}[^{}]*\\}"

[brace_preamble]
category = "expansion"
feature = "brace_preamble"
description = "Brace with preamble/postscript"

[brace_preamble.behavior]
posix = "Not in POSIX"
bash = "pre{a,b}post generates prepost preapost prebpost"
zsh = "Same as bash"
lush = "Bash-compatible"

[brace_preamble.lint]
severity = "warning"
message = "Brace with preamble is not portable"
suggestion = "Not in POSIX"
pattern = "[a-zA-Z0-9_]+\\{[^{}]+\\}[a-zA-Z0-9_]+"

[brace_zero_pad]
category = "expansion"
feature = "brace_zero_pad"
description = "Zero-padded sequence {01..10}"

[brace_zero_pad.behavior]
posix = "Not in POSIX"
bash = "Generates 01 02 03 ... 10 (bash 4.0+)"
zsh = "Same as bash"
lush = "Bash-compatible"

[brace_zero_pad.lint]
severity = "warning"
message = "Zero-padded sequence is not portable"
suggestion = "bash 4.0+ and zsh; use seq -w for portability"
pattern = "\\{0[0-9]+\\.\\.[0-9]+\\}"
